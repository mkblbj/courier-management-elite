# Story 4.1: 统计分析页面基础 UI

## Story

**As a** 系统管理员  
**I want** 在现有的/stats 页面添加出力统计选项卡，实现基本 UI 布局  
**so that** 我可以在统一的页面查看和分析店铺出力数据的各种统计指标。

## Status

Ready for Development

## Context

统计分析功能是店铺出力管理系统的重要组成部分，它能帮助用户从多个维度理解和分析出力数据。为了保持系统的一致性和集中管理统计功能，我们需要在现有的统计分析页面（/stats）中添加一个专门用于出力数据分析的选项卡。

本故事将实现统计分析页面的基础 UI 布局，包括顶部的控制面板、筛选器区域和数据展示区域，为后续各种统计维度的实现提供基础架构。页面设计需要保持与现有系统风格一致，提供流畅的用户体验。

## Estimation

Story Points: 3

## Acceptance Criteria

1. - [ ] 在现有的/stats 页面添加"出力统计"选项卡
2. - [ ] 出力统计选项卡中包含以下区域：
   - 顶部：统计控制面板，用于选择统计维度和时间范围
   - 中部：筛选器区域，用于选择店铺类别、店铺、快递类型等筛选条件
   - 下部：数据展示区域，用于显示统计结果（表格和图表）
3. - [ ] 统计控制面板包含以下元素：
   - 统计维度选择按钮组（店铺类别、店铺、快递类型、日期）
   - 时间范围选择器（本周、本月、上月、自定义日期范围）
   - 刷新按钮
   - 数据导出按钮（预留位置，具体功能在故事 4.7 中实现）
4. - [ ] 筛选器区域支持折叠/展开，默认展开状态
5. - [ ] 数据展示区域包含表格和图表的占位区域
6. - [ ] 实现响应式布局，确保在不同屏幕尺寸下都能良好展示
7. - [ ] 页面加载时显示适当的加载状态
8. - [ ] 页面风格与系统其他部分保持一致

## Subtasks

1. - [ ] 更新/stats 页面组件
   1. - [ ] 在 `app/stats/page.tsx` 中添加出力统计选项卡
   2. - [ ] 实现选项卡切换逻辑
   3. - [ ] 集成出力统计组件
2. - [ ] 创建出力统计基础组件
   1. - [ ] 创建 `app/stats/components/ShopOutputStats.tsx` 主组件
   2. - [ ] 实现基本布局和样式
   3. - [ ] 添加各区域的占位容器
3. - [ ] 实现统计控制面板
   1. - [ ] 创建 `app/stats/components/StatsControlPanel.tsx` 组件
   2. - [ ] 实现统计维度选择按钮组
   3. - [ ] 添加时间范围选择器
   4. - [ ] 添加刷新和导出按钮
4. - [ ] 实现筛选器区域
   1. - [ ] 创建 `app/stats/components/StatsFilterPanel.tsx` 组件
   2. - [ ] 实现折叠/展开功能
   3. - [ ] 添加筛选条件的占位控件
5. - [ ] 实现数据展示区域
   1. - [ ] 创建 `app/stats/components/StatsDataDisplay.tsx` 组件
   2. - [ ] 添加表格和图表的占位区域
   3. - [ ] 实现加载状态显示
6. - [ ] 实现响应式布局
   1. - [ ] 优化各组件在不同屏幕尺寸下的展示
   2. - [ ] 测试移动设备上的用户体验
7. - [ ] 集成状态管理
   1. - [ ] 创建必要的状态钩子
   2. - [ ] 实现区域间的数据流转

## Testing Requirements:

- 单元测试覆盖率 >= 85%
- 对页面组件进行组件测试，验证渲染和布局
- 测试选项卡切换功能
- 测试组件在不同屏幕尺寸下的响应式布局
- 验证与现有系统的风格一致性
- 进行手动测试，确保整体用户体验流畅

## Notes

- 使用 shadcn/ui 的 Tabs 组件实现选项卡
- 使用 shadcn/ui 的 Card 组件实现各区域容器
- 使用 shadcn/ui 的 Button 和 ButtonGroup 组件实现统计维度选择
- 使用 shadcn/ui 的 DateRangePicker 组件实现时间范围选择
- 使用 lucide-react 的图标库提供视觉元素
- 参考现有的统计分析页面组件结构，确保保持一致性
- 考虑为各统计维度预置一些默认的展示模板，便于后续开发
- 此故事仅实现 UI 框架，具体的统计功能将在后续故事中实现
