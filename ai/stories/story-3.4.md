# Story 3.4: 最近录入数据展示

## Story

**As a** 系统管理员  
**I want** 能够查看最近录入的出力数据记录  
**so that** 我可以快速核对刚刚录入的数据，确保数据准确性，并在需要时进行编辑或删除。

## Status

processing

## Context

用户在录入出力数据后，需要及时看到反馈，确认数据是否正确录入。本故事将实现最近录入的出力数据展示功能，显示当天和前几天最近录入的数据记录，方便用户进行核对和管理。

最近录入数据展示区域将以表格形式展示最近的 N 条记录，按录入时间倒序排列，并提供编辑和删除功能，方便用户管理这些记录。

## Estimation

Story Points: 2

## Acceptance Criteria

1. - [ ] 在出力数据页面下部实现"最近录入数据"区域，以表格形式展示
2. - [ ] 表格按录入时间倒序展示最近录入的 10 条出力数据记录
3. - [ ] 表格包含以下列：
   - 录入时间（精确到秒）
   - 日期
   - 店铺名称
   - 快递类型
   - 数量
   - 备注（如果有）
   - 操作按钮（编辑、删除）
4. - [ ] 表格需支持分页功能，每页显示 10 条数据
5. - [ ] 实现刷新按钮，点击后重新加载最新数据
6. - [ ] 当没有数据时，显示"暂无数据"提示
7. - [ ] 数据加载过程中显示加载状态
8. - [ ] 表格底部显示总记录数信息
9. - [ ] 表格的视觉设计应与系统的整体风格保持一致
10. - [ ] 表格在移动设备上应能够水平滚动，确保所有数据可见

## Subtasks

1. - [ ] 创建最近录入数据表格组件
   1. - [ ] 在 `app/output-data/components/OutputList.tsx` 中实现数据表格组件
   2. - [ ] 定义表格列配置
   3. - [ ] 实现表格头部和数据行的渲染
   4. - [ ] 添加分页控件
   5. - [ ] 添加刷新按钮
2. - [ ] 实现数据加载功能
   1. - [ ] 创建获取最近录入数据的 API 接口
   2. - [ ] 实现数据加载和错误处理
   3. - [ ] 添加加载状态指示器
   4. - [ ] 处理空数据情况
3. - [ ] 实现数据分页逻辑
   1. - [ ] 实现分页参数处理
   2. - [ ] 实现页码切换功能
   3. - [ ] 确保分页与服务端分页一致
4. - [ ] 添加操作按钮
   1. - [ ] 添加编辑按钮，预留故事 3.5 的实现
   2. - [ ] 添加删除按钮，预留故事 3.6 的实现
   3. - [ ] 实现按钮的基本样式和布局
5. - [ ] 实现数据实时更新
   1. - [ ] 在表单提交成功后，自动刷新表格数据
   2. - [ ] 确保新添加的记录能够立即显示在表格顶部
6. - [ ] 样式优化
   1. - [ ] 实现表格的响应式布局
   2. - [ ] 优化表格在不同屏幕尺寸下的显示效果
   3. - [ ] 确保移动端可以水平滚动查看完整表格

## Testing Requirements:

- 单元测试覆盖率 >= 85%
- 对表格组件进行组件测试，验证渲染和数据展示
- 测试数据加载和分页功能
- 测试空数据状态和加载状态的显示
- 测试新数据添加后表格的更新逻辑
- 测试表格在不同屏幕尺寸下的响应式布局
- 进行手动测试，验证表格的用户体验和交互效果

## Notes

- 使用 shadcn/ui 的 Table 组件实现数据表格
- 使用 shadcn/ui 的 Pagination 组件实现分页控件
- 使用 shadcn/ui 的 Button 组件实现刷新和操作按钮
- 表格的时间列应采用一致的格式，如 "YYYY-MM-DD HH:MM"
- 考虑添加简单的数据过滤功能，如按日期或店铺筛选
- 操作按钮区域应考虑权限控制，只对有权限的用户显示
- 参考 v0dev 生成的最近录入数据表格设计
- 按照 UI-draft.md 中 2.1 部分的出力数据页面布局设计中的相关部分实现
