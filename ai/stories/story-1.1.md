# Story 1.1: 店铺列表展示

## Story

**As a** 系统用户
**I want** 在一个统一的界面中查看和管理所有的店铺
**so that** 我能够方便地了解所有店铺的基本信息，并进行后续的管理操作。

## Status

Draft

## Context

店铺是整个店铺出力管理功能的基础实体，用户需要一个清晰的界面来查看所有店铺的基本信息。该界面将集成到现有的快递类型管理页面中，通过标签页方式进行切换。店铺列表需要显示每个店铺的关键信息，并提供排序和搜索功能，方便用户快速找到所需的店铺。

本故事是店铺管理功能的第一步，为后续的添加、编辑、删除等操作奠定基础。需要在完成初始设置（数据库、API 和前端路由）后进行开发。

## Estimation

Story Points: 2

## Acceptance Criteria

1. - [ ] 在现有的 /courier-types 页面添加"店铺管理"标签页，与"快递类型"标签页并列
2. - [ ] 店铺管理标签页中显示店铺列表，包括店铺名称、状态（启用/禁用）和排序信息
3. - [ ] 提供按名称搜索店铺的功能
4. - [ ] 支持按名称或创建时间排序店铺列表
5. - [ ] 为每个店铺提供操作按钮区域，为后续的编辑、删除等操作预留位置
6. - [ ] 列表顶部显示"添加店铺"按钮，为后续的添加功能预留位置
7. - [ ] 实现列表的分页功能，每页显示合理数量的店铺
8. - [ ] 当列表为空时，显示适当的空状态提示
9. - [ ] 列表加载时显示加载状态指示器
10. - [ ] 用户界面与现有系统的设计风格保持一致

## Subtasks

1. - [ ] 准备前端组件
   1. - [ ] 创建 ShopManagementTab.tsx 组件
   2. - [ ] 创建 ShopList.tsx 组件
   3. - [ ] 确保组件继承并使用系统现有的 UI 组件库和样式
2. - [ ] 实现标签页切换功能
   1. - [ ] 在 app/courier-types/page.tsx 中添加标签切换逻辑
   2. - [ ] 确保标签切换状态能够保持（比如通过 URL 参数或本地存储）
3. - [ ] 实现店铺列表组件
   1. - [ ] 实现列表基本布局，展示店铺信息
   2. - [ ] 添加状态指示器（启用/禁用）
   3. - [ ] 添加操作按钮区域
   4. - [ ] 实现分页功能
   5. - [ ] 实现空状态和加载状态显示
4. - [ ] 实现搜索和排序功能
   1. - [ ] 创建搜索输入框，实现搜索逻辑
   2. - [ ] 实现排序下拉选择框和排序逻辑
   3. - [ ] 保持搜索和排序条件在刷新后仍然有效
5. - [ ] 实现店铺数据获取
   1. - [ ] 完成 shop.ts API 服务
   2. - [ ] 实现分页、搜索、排序参数的处理
   3. - [ ] 实现数据缓存和重新验证逻辑，提高用户体验
6. - [ ] 添加"添加店铺"按钮
   1. - [ ] 在列表顶部添加按钮
   2. - [ ] 设置适当的按钮样式和位置
   3. - [ ] 为后续的添加功能预留事件处理空间
7. - [ ] 综合测试
   1. - [ ] 测试标签页切换是否正常工作
   2. - [ ] 测试列表是否正确显示店铺数据
   3. - [ ] 测试搜索和排序功能是否有效
   4. - [ ] 测试分页功能是否正常工作
   5. - [ ] 测试各种边缘情况（空列表、网络错误等）

## Testing Requirements:

- 确保组件测试覆盖率 >= 85%
- 测试不同屏幕尺寸下的响应式布局
- 测试搜索和排序功能在不同条件下的表现
- 测试加载状态和错误处理逻辑

## Story Wrap Up (To be filled in AFTER agent execution):

- **Agent Model Used:** `<Agent Model Name/Version>`
- **Agent Credit or Cost:** `<Cost/Credits Consumed>`
- **Date/Time Completed:** `<Timestamp>`
- **Commit Hash:** `<Git Commit Hash of resulting code>`
- **Change Log**
  - 创建店铺管理标签页
  - 实现店铺列表组件
  - 添加搜索和排序功能
  - 实现分页逻辑
  - 添加"添加店铺"按钮
