# 用户故事：实现统计维度选择功能

作为系统用户，我希望能够选择不同的统计维度（按店铺类别、按店铺、按快递类型、按日期）来分析出力数据，以便从多角度理解业务情况。

## 验收标准

1. 在出力统计页面添加统计维度选择按钮组，包含以下选项：
   - 按店铺类别
   - 按店铺
   - 按快递类型
   - 按日期
2. 维度选择按钮组的 UI 直观，当前选中的维度有明显的视觉区分
3. 点击不同的维度按钮，统计视图会立即切换为相应的统计模式
4. 系统记住用户最后选择的维度，下次进入页面时默认显示
5. 切换维度时，条件筛选区域随之变化，显示与所选维度相关的筛选选项
6. 维度切换后，加载相应的统计数据并更新图表和表格

## 技术需求

1. 创建统计维度选择组件，使用 shadcn/ui 的 ToggleGroup 组件
2. 实现维度选择状态管理，跟踪当前选中的维度
3. 根据选中的维度，动态调整筛选选项的显示：
   - 选择"按店铺"时显示类别筛选
   - 选择"按快递类型"时显示类别和店铺筛选
   - 选择"按日期"时显示类别、店铺和快递类型筛选
4. 实现维度切换时的数据加载逻辑，调用相应的 API 接口
5. 添加维度切换时的过渡动画，提升用户体验

## 实现建议

1. 维度选择按钮组应放置在统计控制面板的顶部，醒目且易用
2. 选中的维度应使用填充色或边框高亮显示
3. 在维度切换过程中，可显示加载状态，防止用户误操作
4. 使用浏览器 localStorage 保存用户的维度选择，提升用户体验
5. 维度切换组件应适应不同屏幕尺寸，在移动设备上可调整为垂直布局

## UI 参考

```
+----------------------------------------+
|  统计维度:                              |
|  [按店铺类别] [按店铺] [按快递类型] [按日期] |
|                                        |
|  条件筛选:                              |
|  日期范围: [起始日期] 至 [结束日期]       |
|                                        |
|  <!-- 根据所选维度显示不同的筛选选项 -->    |
|  店铺类别: [选择类别 ▼]                 |
|  店铺: [选择店铺 ▼]                     |
|  快递类型: [选择快递类型 ▼]               |
|                                        |
|  [生成统计]                             |
+----------------------------------------+
```

## API 接口

根据选择的维度，需要调用不同的 API 接口：

```typescript
// 按店铺类别统计
GET /api/stats/shop-outputs/categories
请求参数：
{
  date_from?: string,
  date_to?: string,
  courier_id?: number
}

// 按店铺统计
GET /api/stats/shop-outputs/shops
请求参数：
{
  date_from?: string,
  date_to?: string,
  category_id?: number,
  courier_id?: number
}

// 按快递类型统计
GET /api/stats/shop-outputs/couriers
请求参数：
{
  date_from?: string,
  date_to?: string,
  category_id?: number,
  shop_id?: number
}

// 按日期统计
GET /api/stats/shop-outputs/dates
请求参数：
{
  date_from?: string,
  date_to?: string,
  category_id?: number,
  shop_id?: number,
  courier_id?: number
}
```
