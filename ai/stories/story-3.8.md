# 用户故事：实现高级筛选面板

作为系统用户，我希望能够使用高级筛选功能来根据多个条件组合查询出力数据，以便更精准地找到我所需的信息。

## 验收标准

1. 在出力数据页面添加高级筛选面板，默认为折叠状态
2. 点击"筛选条件"按钮可展开/折叠筛选面板
3. 筛选面板包含以下筛选条件：
   - 日期范围选择（开始日期和结束日期）
   - 店铺类别多选下拉框，支持搜索
   - 店铺多选下拉框，支持搜索，根据所选类别动态筛选可选店铺
   - 快递类型多选下拉框，支持搜索
4. 筛选面板底部有"重置"和"应用筛选"按钮
5. 点击"应用筛选"后，列表数据根据筛选条件更新
6. 点击"重置"按钮，清空所有筛选条件
7. 当有活跃筛选条件时，"筛选条件"按钮旁显示筛选条件数量的标记
8. 在移动设备上，筛选面板应适应屏幕尺寸，保持良好的可用性

## 技术需求

1. 创建`FilterPanel.tsx`组件，实现筛选面板的 UI 和交互逻辑
2. 使用 shadcn/ui 的组件库实现 UI 元素：
   - 使用 Collapsible 组件实现折叠/展开功能
   - 使用 DatePicker 组件实现日期范围选择
   - 使用 MultiSelect 组件实现多选下拉框
3. 实现筛选面板的状态管理，跟踪选中的筛选条件
4. 实现 API 调用，将筛选条件传递给后端接口
5. 添加响应式设计，确保在移动设备上的可用性

## 实现建议

1. 筛选面板应使用卡片样式，有轻微的阴影和圆角边框
2. 控件之间应有合适的间距，标签对齐
3. 面板的展开和折叠应有平滑的动画效果
4. 筛选条件的应用状态应在 UI 上有明确的视觉反馈
5. 当店铺类别选项改变时，应动态更新可选店铺列表

## UI 参考

```
+----------------------------------------+
|  筛选条件 [3] ▼                        |
+----------------------------------------+
|                                        |
|  日期范围: [2023-05-01] 至 [2023-05-31] |
|                                        |
|  店铺类别: [淘宝 ✓][京东 ✓][其他 ✓]     |
|                                        |
|  店铺: [淘宝店1 ✓][京东店 ✓][...]      |
|                                        |
|  快递类型: [顺丰 ✓][圆通 ✓][...]       |
|                                        |
|  [重置]           [应用筛选]            |
|                                        |
+----------------------------------------+
```

## API 接口

需要与以下 API 接口集成：

```typescript
// 获取过滤后的出力数据
GET /api/shop-outputs
请求参数：
{
  date_from?: string,
  date_to?: string,
  category_ids?: number[],
  shop_ids?: number[],
  courier_ids?: number[]
}
响应:
{
  success: boolean,
  data: ShopOutput[],
  total: number,
  page_count: number
}
```
